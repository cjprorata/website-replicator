(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9843],{33817:function(e,n,t){"use strict";var r=t(24043),a=t(82729),i=t(85893),o=t(5152),s=t.n(o),l=t(76163),c=t(2522);function _templateObject(){var e=(0,a._)(["\n  query BreakingNews {\n    breakingNews {\n      id\n      kicker\n      text\n      url\n      theme\n    }\n  }\n"]);return _templateObject=function(){return e},e}var u=s()(function(){return t.e(8719).then(t.bind(t,18719))},{loadableGenerated:{webpack:function(){return[18719]}}}),d=s()(function(){return Promise.resolve().then(t.bind(t,50649))},{loadableGenerated:{webpack:function(){return[50649]}}}),p=(0,l.Ps)(_templateObject());n.Z=function(){var e=(0,c.Z)("ZephrBar"),n=(0,r._)((0,l.aM)({query:p}),1)[0].data;return(null==n?void 0:n.breakingNews)?(0,i.jsx)(u,{breakingNews:n.breakingNews}):e?(0,i.jsx)("div",{children:(0,i.jsx)(d,{sdk:"gift-bar",nonConsentedSdk:"gift-bar-non-personalized"})}):null}},68833:function(e,n,t){"use strict";var r=t(24043),a=t(85893),i=t(67294),o=t(94184),s=t.n(o),l=t(31349),c=t.n(l);n.Z=function(e){var n=e.className,t=(0,r._)((0,i.useState)(!1),2),o=t[0],l=t[1];return((0,i.useEffect)(function(){var e=window.navigator.userAgent,n=e.includes("MSIE "),t=e.includes("Trident/");(n||t)&&l(!0)},[]),o)?(0,a.jsx)("aside",{className:s()(c().root,n),"aria-label":"The Atlantic no longer supports the Internet Explorer browser.",children:(0,a.jsxs)("p",{className:c().text,children:[(0,a.jsx)("i",{children:"The Atlantic"})," ",(0,a.jsx)("a",{href:"https://support.theatlantic.com/hc/en-us/articles/360011224573-Supported-web-browsers",className:c().link,children:"no longer supports the Internet Explorer browser"}),". For a faster and better experience on our site, please use the latest version of Google Chrome, Safari, Firefox, or Microsoft Edge."]})}):null}},77705:function(e,n,t){"use strict";var r=t(72253),a=t(14932),i=t(47702),o=t(85893),s=t(67294),l=t(88294),c=t(58509),u=t(18466),d=t.n(u);n.Z=function(e){var n=e.children,t=e.clickOutsideClose,u=(0,i._)(e,["children","clickOutsideClose"]),p=(0,s.useRef)(null),_=(0,s.useRef)(null),g=u.lockProps,f=(0,i._)(u,["lockProps"]);(0,s.useEffect)(function(){if(p.current)return(0,c.Qp)(p.current,{allowTouchMove:function(e){var n;return null===(n=_.current)||void 0===n?void 0:n.contains(e)}}),function(){return(0,c.tP)()}},[p,_]);var m=(0,s.useCallback)(function(e){t&&e.target===_.current&&t()},[_,t]);return(0,o.jsx)(l.ZP,(0,a._)((0,r._)({ref:p,"aria-modal":!0,role:"dialog"},g,f),{children:(0,o.jsx)("div",(0,a._)((0,r._)({ref:_,className:d().overlay},t&&{onClick:m}),{children:n}))}))}},84261:function(e,n,t){"use strict";t.d(n,{Z:function(){return onboarding_OnboardingNudge}});var r=t(75766),a=t(24043),i=t(85893),o=t(67294),s=t(8698),l=t(31257),c=t(72253),u=t(14932),d=t(11752),p=t.n(d),_=t(94184),g=t.n(_),f=t(64773),m=t(28401),b=t(47702);function _extends(){return(_extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var h=o.createElement("path",{clipRule:"evenodd",d:"M5.979 6.647L.646 11.979l.668.668 5.333-5.333 5.332 5.333.668-.668-5.333-5.332 5.333-5.333-.668-.668L6.647 5.98 1.314.646l-.668.668L5.98 6.647z"}),x_transparent=function(e){var n=e.title,t=e.titleId,r=function(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(e,["title","titleId"]);return o.createElement("svg",_extends({width:13,height:13,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},r),n?o.createElement("title",{id:t},n):null,h)},w=t(80166),N=t.n(w),onboarding_CloseButton=function(e){var n=e.className,t=(0,b._)(e,["className"]);return(0,i.jsx)("button",(0,u._)((0,c._)({className:g()(N().button,n)},t),{children:(0,i.jsx)(x_transparent,{className:N().icon})}))},v=t(64433),x=t.n(v),y=t(53673),j=t.n(y),useNudgeMedia=function(){return(0,m.Z)("(max-width: 575px)","(min-width: 576px) and (max-width: 975px)","(min-width: 976px)")},onboarding_Nudge=function(e){var n=e.name,t=e.copy,r=e.subscriptionType,s=e.image,l=e.containerClassName,c=e.nudgeInfoClassName,u=e.children,d=(0,a._)((0,o.useState)(!0),2),p=d[0],_=d[1],m=(0,a._)(useNudgeMedia(),1)[0],b=(0,a._)((0,o.useState)(!0),2),h=b[0],w=b[1];return((0,o.useEffect)(function(){var e=setTimeout(function(){return w(!1)},0);return function(){return clearTimeout(e)}},[]),p)?(0,i.jsxs)("div",{className:g()(x().root,h&&x().hidden),id:"onboarding-nudge","data-testid":"onboarding-nudge","data-mobile-view":m,"data-view-action":"view - ".concat(n," nudge"),"data-view-label":r,"data-event-module":"".concat(n," nudge").toLowerCase(),"data-event-surface":"group subscription"===r?"group subscriptions onboarding":"onsite onboarding","data-event-view":!0,"data-event-module-state":r,children:[(0,i.jsx)(onboarding_CloseButton,{className:x().close,onClick:function(){return _(!1)},"data-event-verb":"clicked","data-event-element":"Close button","data-event-module-state":r}),(0,i.jsxs)("div",{className:l||x().container,children:[(0,i.jsxs)("div",{className:c||x().nudgeInfo,children:[s&&(0,i.jsx)(f.Z,{src:s,className:x().nudgeImage,alt:"",lazy:!1}),(0,i.jsxs)("div",{className:x().textContainer,children:[(0,i.jsxs)("div",{className:x().header,children:[!m&&(0,i.jsx)(f.Z,{src:j(),className:x().dot,alt:"",lazy:!1}),(0,i.jsx)("p",{className:x().title,children:"trial opt-in"===r?"Make the most of your trial":"group subscription"===r?"Explore more in the app":"Your Atlantic Benefits"})]}),(0,i.jsx)("div",{className:x().copy,children:(0,i.jsx)("p",{className:x().copyText,children:t})})]})]}),(0,i.jsx)("div",{className:x().ctaContainer,children:u})]})]}):null},k=t(21449),C=t.n(k),T=t(81338),S=t.n(T),A=t(14439),E=t.n(A),M=t(24906),P=t.n(M),I=t(80437),D=t.n(I),O=t(35153),R=t.n(O),B=t(63603),U=t.n(B),F=t(14120),Z=t.n(F),L=t(23951),X=t.n(L),G=t(11010),$=t(20414),z=t(86894),q=t(26729),Q=t(77705),W=t(72863),Y=t.n(W),Button=function(e){var n=e.children,t=e.className,r=(0,b._)(e,["children","className"]);return(0,i.jsx)("button",(0,u._)((0,c._)({className:g()(Y().button,t)},r),{children:n}))},LinkButton=function(e){var n=e.children,t=e.className,r=(0,b._)(e,["children","className"]);return(0,i.jsx)("a",(0,u._)((0,c._)({className:g()(Y().button,t)},r),{children:n}))},K=t(19992),V=t.n(K),onboarding_GenericModal=function(e){var n=e.title,t=e.children,r=e.close,a=e.buttonText,s=e.handleButtonClick,l=e.closeOnClickOutside,d=void 0===l||l,p=(0,o.useId)(),_=(0,o.useId)();return(0,i.jsx)(Q.Z,(0,u._)((0,c._)({autoFocus:!1,lockProps:{"aria-labelledby":p,"aria-describedby":_}},d&&{clickOutsideClose:r}),{children:(0,i.jsxs)("div",{className:V().modal,children:[(0,i.jsx)(onboarding_CloseButton,{className:V().closeIcon,onClick:r}),(0,i.jsx)("div",{id:p,className:V().title,children:n}),(0,i.jsx)("div",{className:V().message,id:_,children:t}),(0,i.jsx)(Button,{className:V().closeButton,onClick:void 0===s?r:s,children:void 0===a?"Close":a})]})}))},J=t(95645),H=t(149),ee=t.n(H),onboarding_Toggle=function(e){var n=e.className,t=e.onChange,r=e.name,s=e.description,l=(0,b._)(e,["className","onChange","name","description"]),d=(0,o.useId)(),p=(0,a._)((0,o.useState)(!1),2),_=p[0],f=p[1];return(0,o.useEffect)(function(){t&&t(_)},[t,_]),(0,i.jsxs)("div",{className:g()(ee().root,n),children:[s&&(0,i.jsx)(J.Z,{children:(0,i.jsx)("label",{htmlFor:d,children:s})}),(0,i.jsx)("input",{id:d,className:ee().checkbox,checked:_,onChange:function(e){return f(e.target.checked)},name:r,type:"checkbox",role:"switch","aria-checked":_,onKeyDown:function(e){"Enter"===e.key&&f(!e.target.checked)}}),(0,i.jsx)("button",(0,u._)((0,c._)({type:"button",tabIndex:-1,className:ee().track,onClick:function(){return f(function(e){return!e})}},l),{children:(0,i.jsx)("div",{className:ee().handle})}))]})},en=t(18246),et=t.n(en),er=t(63776),ea=t.n(er),ei=t(80887),eo=t.n(ei),NewsletterFormModal=function(e){var n=e.subscriptionType,t=e.close,r=e.formRef,a=e.handleSubmit,s=e.submitting,l=e.hasValidationErrors,d=(0,b._)(e,["subscriptionType","close","formRef","handleSubmit","submitting","hasValidationErrors"]),p=(0,o.useId)(),_=(0,o.useId)(),g=(0,o.useCallback)(function(e){"Enter"===e.key&&e.stopPropagation()},[]);return(0,i.jsx)(Q.Z,{autoFocus:!1,clickOutsideClose:t,children:(0,i.jsxs)("form",(0,u._)((0,c._)({onSubmit:a,className:et().modal,"aria-labelledby":p,"aria-describedby":_,ref:r,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}},d),{children:[(0,i.jsxs)("div",{className:et().mainContent,children:[(0,i.jsxs)("div",{className:et().eyebrowContainer,children:[(0,i.jsx)("div",{className:et().eyebrow,children:"Add inspiration to your inbox"}),(0,i.jsx)(onboarding_CloseButton,{type:"button",onClick:t,disabled:s,onKeyDown:g})]}),(0,i.jsx)("div",{id:p,className:et().title,children:"Sign Up for Newsletters"}),(0,i.jsx)("div",{id:_,className:et().subtitle,children:"Essential stories, bold ideas, and moments of delight. Get started with these reader favorites:"}),(0,i.jsx)("div",{className:et().newsletters,children:[es,el].map(function(e){return(0,i.jsx)(NewsletterCard,(0,c._)({subscriptionType:n},e),e.id)})})]}),(0,i.jsxs)("div",{className:et().footer,children:[(0,i.jsx)("div",{className:et().seeAllContainer,children:(0,i.jsx)("a",{href:"/newsletters/",className:et().seeAll,onKeyDown:g,children:"See All Newsletters"})}),(0,i.jsx)("div",{className:et().signUpContainer,children:(0,i.jsx)(Button,{type:"submit",className:et().signUp,disabled:l||s,onKeyDown:g,"data-event-verb":"clicked","data-event-element":"button","data-event-module-state":n,children:"Sign Up"})})]})]}))})},NewsletterCard=function(e){var n=e.subscriptionType,t=e.id,r=e.name,a=e.dek,o=e.image,s=e.trackingLabel;return(0,i.jsxs)("div",{className:et().newsletter,children:[(0,i.jsx)(f.Z,{className:et().newsletterImage,width:80,height:80,src:o,alt:"",lazy:!1}),(0,i.jsxs)("div",{className:et().newsletterText,children:[(0,i.jsxs)("div",{className:et().newsletterNameContainer,children:[(0,i.jsx)("div",{className:et().newsletterName,children:r}),(0,i.jsx)(q.gN,{type:"checkbox",name:t,children:function(e){var t=e.input,r=t.onChange,a=t.name,o=t.checked;return(0,i.jsx)(onboarding_Toggle,(0,c._)({className:et().toggle,onChange:r,name:a,description:"Sign up for ".concat(a)},!o&&{"data-event-verb":"clicked","data-event-element":"".concat(s),"data-event-module-state":"".concat(n)}))}})]}),(0,i.jsx)("div",{className:et().newsletterDek,children:a})]})]})},es={name:"The Weekly Planet",id:"The Weekly Planet",dek:"A guide to living through climate change.",image:ea(),trackingLabel:"the weekly planet"},el={name:"Work In Progress",id:"Work In Progress",dek:"Derek Thompson explains today’s news and tomorrow’s trends in work, technology, and culture.",image:eo(),trackingLabel:"work in progress"},onboarding_NewsletterSignupModal=function(e){var n,t=e.subscriptionType,r=e.close,a=(0,b._)(e,["subscriptionType","close"]),s=(0,o.useCallback)(function(e){return Object.keys(e).filter(function(n){return!0===e[n]})},[]),l=(0,o.useCallback)(function(e){if(0===s(e).length)return{FORM_ERROR:"One newsletter must be selected"}},[s]),u=(0,z.D6)("newsletters"),d=u.onUserSubmit,p=u.userFormRef,_=(0,o.useCallback)((n=(0,G._)(function(e){return(0,$.Jh)(this,function(n){return[2,d(s(e).map(function(e){return{id:e}}))]})}),function(e){return n.apply(this,arguments)}),[s,d]);return(0,i.jsx)(q.l0,{onSubmit:_,validate:l,children:function(e){var n=e.submitSucceeded,o=e.submitFailed,s=e.handleSubmit,l=e.submitting,u=e.hasValidationErrors;return n?(0,i.jsx)(onboarding_GenericModal,{title:"Thanks for signing up!",close:r,children:"Your newsletter subscription preferences have been updated."}):o?(0,i.jsx)(onboarding_GenericModal,{title:"We're experiencing an issue.",close:r,buttonText:"Go to Newsletters",handleButtonClick:function(){return location.href="/newsletters/"},children:"To sign up for a newsletter, please visit our newsletters page. We’re working on resolving this issue and apologize for the inconvenience."}):(0,i.jsx)(NewsletterFormModal,(0,c._)({subscriptionType:t,close:r,formRef:p,handleSubmit:s,submitting:l,hasValidationErrors:u},a))}})},ec=t(98608),eu=t.n(ec),ed=t(71849),ep=t.n(ed),e_=t(52566),eg=t.n(e_),ef=t(62474),em=t.n(ef),eb=t(69520),eh=t.n(eb),ew=p()().publicRuntimeConfig.ACCOUNTS_FRONTEND_URL,QRCodes=function(){return(0,i.jsxs)("div",{className:eu().appContainer,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(f.Z,{className:eu().qrCode,src:ep(),lazy:!1,alt:"apple qr code"}),(0,i.jsx)("p",{className:eu().label,children:"iPhone/iPad"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(f.Z,{className:eu().qrCode,src:eg(),lazy:!1,alt:"google qr code"}),(0,i.jsx)("p",{className:eu().label,children:"Android"})]})]})},AppStoreLinks=function(e){var n=e.subscriptionType;return(0,i.jsxs)("div",{className:eu().mobileAppContainer,children:[(0,i.jsx)("a",{className:eu().appStore,href:"https://apps.apple.com/app/apple-store/id397599894?pt=424532&ct=onsiteonboarding&mt=8",target:"_blank",rel:"noreferrer","data-event-verb":"clicked","data-event-element":"App Store","data-event-module-state":n,children:(0,i.jsx)(f.Z,{src:em(),className:eu().links,lazy:!1,alt:"apple app store badge link"})}),(0,i.jsx)("a",{className:eu().appStore,href:"https://play.google.com/store/apps/details?id=com.theatlantic.newsstand&utm_source=onsiteonboarding",target:"_blank",rel:"noreferrer","data-event-verb":"clicked","data-event-element":"Google Play Store","data-event-module-state":n,children:(0,i.jsx)(f.Z,{src:eh(),className:eu().links,lazy:!1,alt:"google play store badge link"})})]})},AppNudge=function(e){var n=e.subscriptionType,t=(0,a._)(useNudgeMedia(),3),r=t[0],o=t[1],s=t[2],l=r||o?"group subscription"===n?"Daily editors’ picks, puzzles, and narrated articles—for inspiration, wherever you are.":"Download our app to enjoy every story, everywhere you go.":"To download the Atlantic app, scan the QR code for your device.",d=s?C():r?D():null;return(0,i.jsx)(onboarding_Nudge,(0,u._)((0,c._)({name:"app",copy:l,image:d,subscriptionType:n},o&&{containerClassName:eu().appTabletContainer,nudgeInfoClassName:eu().appTabletNudgeInfo}),{children:s?(0,i.jsx)(QRCodes,{}):(0,i.jsx)(AppStoreLinks,{subscriptionType:n})}))},CrosswordNudge=function(e){var n=e.subscriptionType,t=(0,a._)(useNudgeMedia(),3)[2];return(0,i.jsx)(onboarding_Nudge,{name:"crossword",copy:"Play The Atlantic Crossword, which gets bigger and more challenging every day.",image:t?P():Z(),subscriptionType:n,children:(0,i.jsx)("div",{className:eu().buttonContainer,children:(0,i.jsx)(LinkButton,{className:eu().button,href:"/free-daily-crossword-puzzle/","data-event-element":"button",children:"Start Solving"})})})},PDFNudge=function(e){var n=e.subscriptionType,t=(0,a._)(useNudgeMedia(),3)[2];return(0,i.jsx)(onboarding_Nudge,{name:"pdf",copy:"Download PDF versions of every issue in The Atlantic’s archive, from 1857 to today.",image:t?E():U(),subscriptionType:n,children:(0,i.jsx)("div",{className:eu().buttonContainer,children:(0,i.jsx)(LinkButton,{className:eu().button,href:"".concat(ew,"/accounts/library/magazine-issues/"),"data-event-element":"button",children:"Open Digital Library"})})})},ArchiveNudge=function(e){var n=e.subscriptionType,t=(0,a._)(useNudgeMedia(),3)[2];return(0,i.jsx)(onboarding_Nudge,{name:"archive",copy:"Explore the ideas and stories that shaped American history in our digital archive—from 1857 to today.",image:t?X():null,subscriptionType:n,containerClassName:eu().archiveContainer,nudgeInfoClassName:eu().archiveNudgeInfo,children:(0,i.jsx)("div",{className:g()(eu().buttonContainer,eu().archiveButtonContainer),children:(0,i.jsx)(LinkButton,{className:eu().button,href:"/archive/","data-event-element":"button",children:"Visit The Archive"})})})},NewsletterNudge=function(e){var n=e.name,t=e.subscriptionType,r=e.children,o=(0,a._)(useNudgeMedia(),3)[2]?S():R();return(0,i.jsx)(onboarding_Nudge,{name:n,copy:"Let the best of The Atlantic come to you. Explore our suite of newsletters.",image:o,subscriptionType:t,children:(0,i.jsx)("div",{className:eu().buttonContainer,children:r})})},NewsletterModalNudge=function(e){var n=e.subscriptionType,t=(0,a._)((0,o.useState)(!1),2),r=t[0],s=t[1];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(NewsletterNudge,{name:"newsletter",subscriptionType:n,children:(0,i.jsx)(Button,{className:eu().button,onClick:function(){return s(!0)},"data-event-verb":"clicked","data-event-element":"button","data-event-module-state":n,children:"Sign Up"})}),r&&(0,i.jsx)(onboarding_NewsletterSignupModal,{subscriptionType:n,close:function(){return s(!1)},"data-event-module":"group subscription"===n?"group subscriptions onboarding newsletter":"onsite onboarding newsletter","data-event-module-state":n,"data-event-surface":"group subscription"===n?"group subscriptions onboarding":"onsite onboarding"})]})},NewsletterPageNudge=function(e){var n=e.subscriptionType;return(0,i.jsx)(NewsletterNudge,{name:"newsletter",subscriptionType:n,children:(0,i.jsx)(LinkButton,{className:eu().button,href:"/newsletters/","data-event-element":"button",children:"Sign Up"})})},eN={sds:"same-day start",toi:"trial opt-in",grp:"group subscription"},onboarding_OnboardingNudge=function(){var e,n=(0,s.aC)().hasPaywallAccess,t=(0,l.Z)().segments.find(function(e){return e.startsWith("oso_")});if((0,o.useEffect)(function(){var e;t&&n&&"function"==typeof(null===(e=window.jstag)||void 0===e?void 0:e.send)&&window.jstag.send({_e:"".concat(t," viewed")},function(){return window.jstag.loadEntity()})},[t,n]),!t||!n)return null;var c=(0,a._)(t.split("_"),3),u=c[1],d=c[2],p=eN[u],_=(e={},(0,r._)(e,"n1",AppNudge),(0,r._)(e,"n2",NewsletterModalNudge),(0,r._)(e,"n3",CrosswordNudge),(0,r._)(e,"n4",PDFNudge),(0,r._)(e,"n5",ArchiveNudge),(0,r._)(e,"n6",NewsletterPageNudge),e)[d]||null;return"grp"===u&&_?(0,i.jsx)(_,{subscriptionType:p}):null}},52285:function(e,n,t){"use strict";t.d(n,{m:function(){return r}});var r=(0,t(67294).createContext)("")},31257:function(e,n,t){"use strict";var r=t(24043),a=t(67294);n.Z=function(){var e=(0,r._)((0,a.useState)({segments:[]}),2),n=e[0],t=e[1];return(0,a.useEffect)(function(){if("function"==typeof(null===(e=window.jstag)||void 0===e?void 0:e.getEntity)){var e,n,r=window.jstag.getEntity();if(null==r?void 0:null===(n=r.data)||void 0===n?void 0:n.user){t(r.data.user);return}}var onLyticsReady=function(){var e;if("function"==typeof(null===(e=window.jstag)||void 0===e?void 0:e.getEntity)){var n,r=window.jstag.getEntity();(null==r?void 0:null===(n=r.data)||void 0===n?void 0:n.user)&&t(r.data.user)}};return window.addEventListener("lyticsready",onLyticsReady),function(){return window.removeEventListener("lyticsready",onLyticsReady)}},[]),n}},86894:function(e,n,t){"use strict";t.d(n,{D6:function(){return useIdentifiedNewsletterSignUp},Dy:function(){return useFollowAuthor},ZP:function(){return useNewsletterSignUp}});var r=t(11010),a=t(24043),i=t(82729),o=t(20414),s=t(67294),l=t(76163),c=t(79296),u=t(52285),d=t(28604),p=t(96457);function _templateObject(){var e=(0,i._)(["\n  mutation anonymousNewsletterSignup($input: AnonymousNewsletterSignup!) {\n    anonymousNewsletterSignup(input: $input) {\n      existingUser\n    }\n  }\n"]);return _templateObject=function(){return e},e}function _templateObject1(){var e=(0,i._)(["\n  mutation identifiedNewsletterSignup($input: IdentifiedNewsletterSignup!) {\n    identifiedNewsletterSignup(input: $input) {\n      existingUser\n    }\n  }\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){var e=(0,i._)(["\n  mutation followAuthor($input: FollowAuthor!) {\n    followAuthor(input: $input) {\n      existingUser\n    }\n  }\n"]);return _templateObject2=function(){return e},e}var _=(0,l.Ps)(_templateObject()),g=(0,l.Ps)(_templateObject1()),f=(0,l.Ps)(_templateObject2());function useNewsletterSignUp(e,n){var t,i,g=(0,s.useContext)(u.m),f=(0,a._)((0,l.Db)(_),2),m=f[0],b=f[1],h=null===(i=m.data)||void 0===i?void 0:null===(t=i.anonymousNewsletterSignup)||void 0===t?void 0:t.existingUser,w=(0,s.useRef)(null),N=(0,d.C)().getToken;return{onSubmit:(0,s.useCallback)(function(t){var a=t.email;return(0,r._)(function(){var t,r,i,s,l;return(0,o.Jh)(this,function(o){switch(o.label){case 0:return[4,N("newsletter_signup")];case 1:return r=o.sent(),[4,b({input:{email:a,ids:e.map(function(e){return e.id}),recaptchaToken:r}})];case 2:if(s=(i=o.sent()).error&&(null===(t=i.error)||void 0===t?void 0:t.graphQLErrors.map(function(e){return e.message}).join(" ")),l=i.error&&i.error.networkError,s)return[2,{email:s}];if(l)return[2,{FORM_ERROR:"An unknown error occurred."}];return e.forEach(function(e){var t=e.id,r=e.name;(0,c.z6)().push({event:"Newsletter Signup",action:"newsletter signup - ".concat(n),category:g,label:r||t,user:{email:a,newsletter:{id:t,name:r}},"gtm.element":w.current})}),(0,p.nG)().then(function(n){n.trackPermutiveEvent({id:"NewsletterSub",name:e.map(function(e){return e.name||""})})}),[2]}})})()},[b,e,N,n,g]),existingUser:h,formRef:w}}function useIdentifiedNewsletterSignUp(e){var n,t,i,_=(0,s.useContext)(u.m),f=(0,a._)((0,l.Db)(g),2),m=f[0],b=f[1],h=(0,s.useRef)(null),w=null===(i=m.data)||void 0===i?void 0:null===(t=i.identifiedNewsletterSignup)||void 0===t?void 0:t.existingUser,N=(0,d.C)().getToken;return{onUserSubmit:(0,s.useCallback)((n=(0,r._)(function(n){var t,r,a,i,s;return(0,o.Jh)(this,function(o){switch(o.label){case 0:return[4,N("newsletter_signup")];case 1:return r=o.sent(),[4,b({input:{ids:n.map(function(e){return e.id}),recaptchaToken:r}})];case 2:if(i=(a=o.sent()).error&&(null===(t=a.error)||void 0===t?void 0:t.graphQLErrors.map(function(e){return e.message}).join(" ")),s=a.error&&a.error.networkError,i)return[2,{FORM_ERROR:i||"Signup failed"}];if(s)return[2,{FORM_ERROR:"An unknown error occurred."}];return n.forEach(function(n){var t=n.id,r=n.name;(0,c.z6)().push({event:"Newsletter Signup",action:"newsletter signup - ".concat(e),category:_,label:r||t,user:{email:"",newsletter:{id:t,name:r}},"gtm.element":h.current})}),(0,p.nG)().then(function(e){e.trackPermutiveEvent({id:"NewsletterSub",name:n.map(function(e){return e.name||""})})}),[2]}})}),function(e){return n.apply(this,arguments)}),[N,b,e,_]),existingIdentifiedUser:w,userFormRef:h}}function useFollowAuthor(e,n){var t=(0,s.useContext)(u.m),i=(0,a._)((0,l.Db)(f),2)[1],_=(0,s.useRef)(null),g=(0,d.C)().getToken;return{onSubmit:(0,s.useCallback)(function(a){var s=a.email;return(0,r._)(function(){var r,a,l,u,d;return(0,o.Jh)(this,function(o){switch(o.label){case 0:return[4,g("newsletter_signup")];case 1:return a=o.sent(),[4,i({input:{email:s||null,ids:e.map(function(e){return e.id}),recaptchaToken:a}})];case 2:if(u=(l=o.sent()).error&&(null===(r=l.error)||void 0===r?void 0:r.graphQLErrors.map(function(e){return e.message}).join(" ")),d=l.error&&l.error.networkError,u)return[2,{email:u}];if(d)return[2,{FORM_ERROR:"An unknown error occurred."}];return e.forEach(function(e){var r=e.id,a=e.name;(0,c.z6)().push({event:"Newsletter Signup",action:"author follow newsletter signup - ".concat(n),category:t,label:a||r,user:{email:s,newsletter:{id:r,name:a}},"gtm.element":_.current})}),(0,p.nG)().then(function(n){n.trackPermutiveEvent({id:"NewsletterSub",name:e.map(function(e){return e.name||""})})}),[2]}})})()},[i,e,g,n,t]),formRef:_}}},31349:function(e){e.exports={root:"IEDeprecationBanner_root__AB9IT",text:"IEDeprecationBanner_text__lqaIZ",link:"IEDeprecationBanner_link___Wn4j"}},18466:function(e){e.exports={overlay:"ModalOverlay_overlay__5P128"}},72863:function(e){e.exports={button:"Button_button__PBA7I"}},80166:function(e){e.exports={button:"CloseButton_button__QqZND",icon:"CloseButton_icon__a1YFZ"}},19992:function(e){e.exports={modal:"GenericModal_modal__SJBXi",closeIcon:"GenericModal_closeIcon__I1_Uo",title:"GenericModal_title__tSShn",message:"GenericModal_message__Bvx9Y",closeButton:"GenericModal_closeButton__3wV7M"}},18246:function(e){e.exports={modal:"NewsletterSignupModal_modal__i7Yul",mainContent:"NewsletterSignupModal_mainContent__3okoI",eyebrowContainer:"NewsletterSignupModal_eyebrowContainer__8IVdY",eyebrow:"NewsletterSignupModal_eyebrow__UT9bp",closeButton:"NewsletterSignupModal_closeButton__lLSTe",title:"NewsletterSignupModal_title__CFW6G",subtitle:"NewsletterSignupModal_subtitle__2jUKg",newsletters:"NewsletterSignupModal_newsletters__ZwyP2",newsletter:"NewsletterSignupModal_newsletter__qCHIL",newsletterImage:"NewsletterSignupModal_newsletterImage__PsFhY",newsletterText:"NewsletterSignupModal_newsletterText__fBurV",newsletterNameContainer:"NewsletterSignupModal_newsletterNameContainer__Ks3aQ",newsletterName:"NewsletterSignupModal_newsletterName__6EUKQ",toggle:"NewsletterSignupModal_toggle__GSBnt",newsletterDek:"NewsletterSignupModal_newsletterDek__8E24a",footer:"NewsletterSignupModal_footer__EYPv4",seeAllContainer:"NewsletterSignupModal_seeAllContainer__mc8U2",seeAll:"NewsletterSignupModal_seeAll__dH58N",signUpContainer:"NewsletterSignupModal_signUpContainer__XojUl",signUp:"NewsletterSignupModal_signUp__5qtHF"}},64433:function(e){e.exports={root:"Nudge_root__BHzru",hidden:"Nudge_hidden__x8TqD",close:"Nudge_close___IMWm",container:"Nudge_container__mMRE1",nudgeInfo:"Nudge_nudgeInfo__baA30",textContainer:"Nudge_textContainer__iDswY",header:"Nudge_header__M1HbS",title:"Nudge_title__lR02F",copy:"Nudge_copy__6zD9S",copyText:"Nudge_copyText__iJZP5",nudgeImage:"Nudge_nudgeImage__6WwJ8",dot:"Nudge_dot__AIUQK",ctaContainer:"Nudge_ctaContainer__p4Twt",ctaAppContainer:"Nudge_ctaAppContainer__68ik_",ctaMobileAppContainer:"Nudge_ctaMobileAppContainer__QXOtP",qrCode:"Nudge_qrCode__vkaIo",links:"Nudge_links__m1VbT",label:"Nudge_label__QTXwo",buttonContainer:"Nudge_buttonContainer__bZZYC"}},98608:function(e){e.exports={appContainer:"NudgeTypes_appContainer__D5y39",mobileAppContainer:"NudgeTypes_mobileAppContainer__cX_kk",qrCode:"NudgeTypes_qrCode__y6sXG",links:"NudgeTypes_links__EDqUM",label:"NudgeTypes_label__39NGI",buttonContainer:"NudgeTypes_buttonContainer__OBCmj",button:"NudgeTypes_button__dNexD",appTabletContainer:"NudgeTypes_appTabletContainer__wG79u",appTabletNudgeInfo:"NudgeTypes_appTabletNudgeInfo__wQ9si",archiveContainer:"NudgeTypes_archiveContainer__k98Cq",archiveNudgeInfo:"NudgeTypes_archiveNudgeInfo__bR5zq",archiveButtonContainer:"NudgeTypes_archiveButtonContainer__OgJsT"}},149:function(e){e.exports={root:"Toggle_root__k8sBj",track:"Toggle_track__34PSQ",handle:"Toggle_handle__fwwXS",checkbox:"Toggle_checkbox__9jsfU"}},21449:function(e){e.exports=(window.__NEXT_DATA__.assetPrefix||"").replace(/\/$/,"")+"/_next/static/images/App-34d8a778b456861d6843599edbcdf2a4.png"},24906:function(e){e.exports=(window.__NEXT_DATA__.assetPrefix||"").replace(/\/$/,"")+"/_next/static/images/Crossword-5ed67a2c011833b86019c4fe338d14d5.png"},81338:function(e){e.exports=(window.__NEXT_DATA__.assetPrefix||"").replace(/\/$/,"")+"/_next/static/images/Newsletter-96ee75cdcac31da0f8c6be98b7ca868a.png"},63603:function(e){e.exports=(window.__NEXT_DATA__.assetPrefix||"").replace(/\/$/,"")+"/_next/static/images/PDF-icon-6aae77278a17b96b38db71cc0e7ac062.png"},14439:function(e){e.exports=(window.__NEXT_DATA__.assetPrefix||"").replace(/\/$/,"")+"/_next/static/images/PDF-image-7b3f062de12627a7db3ac76e197d29d1.png"},80437:function(e){e.exports=(window.__NEXT_DATA__.assetPrefix||"").replace(/\/$/,"")+"/_next/static/images/app-icon-c714b12c36f411a27a0e7114dafb0fdb.png"},71849:function(e){e.exports=(window.__NEXT_DATA__.assetPrefix||"").replace(/\/$/,"")+"/_next/static/images/apple-qr-code-07cd8270e0b4526fde76ccb0ca0d74f5.jpg"},62474:function(e){e.exports=(window.__NEXT_DATA__.assetPrefix||"").replace(/\/$/,"")+"/_next/static/images/apple-store-badge-8796841a0d2182944b633f22b523e9d1.png"},23951:function(e){e.exports=(window.__NEXT_DATA__.assetPrefix||"").replace(/\/$/,"")+"/_next/static/images/archive-covers-ee8a12e6aa615794ce1a6f5e1ab29f77.png"},14120:function(e){e.exports=(window.__NEXT_DATA__.assetPrefix||"").replace(/\/$/,"")+"/_next/static/images/crossword-icon-fc07da492bb54f27e37372a283624c14.png"},69520:function(e){e.exports=(window.__NEXT_DATA__.assetPrefix||"").replace(/\/$/,"")+"/_next/static/images/google-play-badge-6467187f2a18f0b891721a2cb3eaeac5.png"},52566:function(e){e.exports=(window.__NEXT_DATA__.assetPrefix||"").replace(/\/$/,"")+"/_next/static/images/google-qr-code-4e82bd7bd5b8981b021c8818ee73d48d.jpg"},35153:function(e){e.exports=(window.__NEXT_DATA__.assetPrefix||"").replace(/\/$/,"")+"/_next/static/images/newsletters-icon-334ee07e17adf392983c62e157b6f951.png"},63776:function(e){e.exports=(window.__NEXT_DATA__.assetPrefix||"").replace(/\/$/,"")+"/_next/static/images/nl-modal-the-weekly-planet-f4c429dc94ffcc32c2ded84eab7b4580.png"},80887:function(e){e.exports=(window.__NEXT_DATA__.assetPrefix||"").replace(/\/$/,"")+"/_next/static/images/nl-modal-work-in-progress-bf20b93c8e59ecae68f79f3161b80db4.png"},53673:function(e){e.exports=(window.__NEXT_DATA__.assetPrefix||"").replace(/\/$/,"")+"/_next/static/images/notification-dot-aaab9c7f95df8adda00f9bd00eec24a0.png"}}]);